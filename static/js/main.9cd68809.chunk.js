(this.webpackJsonpok=this.webpackJsonpok||[]).push([[0],{29:function(e,t,n){},36:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(30),c=n.n(r),o=(n(36),n(7)),l=n.n(o),i=n(10),u=n(9),j=n(11),d=n.n(j),b=n(14),m=n(13),p=n(2),g=n(1),h=function(){return""===JSON.parse(localStorage.getItem("token"))?Object(g.jsx)(p.a,{to:"/login"}):Object(g.jsx)("div",{children:Object(g.jsx)("h1",{children:"Welcome to our website"})})},O=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.parse(localStorage.getItem("token")),e.next=4,d.a.delete("https://afternoon-coast-71095.herokuapp.com/users/sign_out",{headers:{"Content-Type":"application/json",Authorization:a}});case 4:localStorage.setItem("token",JSON.stringify("")),t("Not Logged"),n.push("/login"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),x=(n(62),function(e){var t=e.setUser,n=Object(p.g)(),a=JSON.parse(localStorage.getItem("token"));return Object(g.jsx)("nav",{className:"",children:""===a?Object(g.jsxs)("ul",{className:"list-unstyled d-flex py-3 justify-content-end",children:[Object(g.jsx)("li",{className:"mx-3",children:Object(g.jsx)(m.b,{className:"text-decoration-none link-light",to:"/signup",children:"Sign Up"})}),Object(g.jsx)("li",{className:"mx-3",children:Object(g.jsx)(m.b,{className:"text-decoration-none link-light",to:"/login",children:"Login"})})]}):Object(g.jsxs)("ul",{className:"list-unstyled d-flex py-3 justify-content-end",children:[Object(g.jsx)("li",{className:"mx-3",children:Object(g.jsx)(m.b,{className:"text-decoration-none link-light",to:"/",children:"Home"})}),Object(g.jsx)("li",{className:"mx-3",children:Object(g.jsx)("button",{className:"logout-btn",type:"submit",onClick:function(e){return O(t,n)},children:"Log out"})})]})})}),f=(n(29),function(e){var t=e.setUser,n=e.user,s=Object(a.useState)(""),r=Object(u.a)(s,2),c=r[0],o=r[1],j=Object(a.useState)(""),b=Object(u.a)(j,2),m=b[0],h=b[1],O=Object(p.g)(),x=function(){var e=Object(i.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,d.a.post("https://afternoon-coast-71095.herokuapp.com/users/sign_in",{user:{email:c,password:m}});case 4:a=e.sent,console.log(a.data.message),localStorage.setItem("token",JSON.stringify(a.headers.authorization)),"You are logged in."===a.data.message?t("Logged"):t("Not Logged"),O.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return"Logged"===n?Object(g.jsx)(p.a,{to:"/"}):Object(g.jsx)("div",{className:"login-div",children:Object(g.jsxs)("form",{onSubmit:x,className:"my-5 d-flex flex-column  col-10 col-md-8 mx-auto p-5",children:[Object(g.jsx)("label",{htmlFor:"email",className:"col-form-label my-2",children:"Email"}),Object(g.jsx)("input",{onChange:function(e){return o(e.target.value)},name:"email",className:"my-3",type:"email",placeholder:"email",required:!0}),Object(g.jsx)("label",{htmlFor:"password",className:"col-form-label my-2",children:"Password"}),Object(g.jsx)("input",{onChange:function(e){return h(e.target.value)},name:"password",className:"my-3",type:"password",placeholder:"password",required:!0}),Object(g.jsx)("button",{className:"my-2 btn btndark",type:"submit",children:"Log in"}),Object(g.jsx)("a",{className:"text-decoration-none link-dark my-2",href:"/signup",children:"Sign up"})]})})}),v=function(e){var t=e.user,n=e.setUser,s=Object(a.useState)(""),r=Object(u.a)(s,2),c=r[0],o=r[1],j=Object(a.useState)(""),b=Object(u.a)(j,2),m=b[0],h=b[1],O=Object(p.g)();if("Logged"===t)return Object(g.jsx)(p.a,{to:"/"});var x=function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d.a.post("https://afternoon-coast-71095.herokuapp.com/users",{user:{email:c,password:m}});case 4:a=e.sent,localStorage.setItem("token",JSON.stringify(a.headers.authorization)),"Signed up sucessfully."===a.data.message?n("Logged"):n("Not Logged"),O.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"signup-div",children:Object(g.jsxs)("form",{onSubmit:x,className:"my-5 d-flex flex-column  col-10 col-md-8 mx-auto p-5",children:[Object(g.jsx)("label",{htmlFor:"email",className:"col-form-label my-2",children:"Email"}),Object(g.jsx)("input",{onChange:function(e){return o(e.target.value)},name:"email",className:"my-3",type:"email",placeholder:"email",required:!0}),Object(g.jsx)("label",{htmlFor:"password",className:"col-form-label my-2",children:"Password"}),Object(g.jsx)("input",{onChange:function(e){return h(e.target.value)},name:"password",className:"my-3",type:"password",placeholder:"password",required:!0}),Object(g.jsx)("button",{className:"my-2 btn btndark",type:"submit",children:"Sign up"}),Object(g.jsx)("a",{className:"text-decoration-none link-dark my-2",href:"/login",children:"Log in"})]})})},N=function(e){var t=e.user,n=e.setUser;return Object(g.jsx)("div",{children:Object(g.jsxs)(m.a,{children:[Object(g.jsx)(x,{setUser:n}),Object(g.jsxs)("div",{className:"container",children:[Object(g.jsxs)("h1",{children:["Status: ","Logged"===t?"Logged in":"Not Logged in"]}),Object(g.jsxs)(p.d,{children:[Object(g.jsx)(p.b,{path:"/signup",render:function(e){return Object(g.jsx)(v,Object(b.a)(Object(b.a)({},e),{},{user:t,setUser:n}))}}),Object(g.jsx)(p.b,{exact:!0,path:"/login",render:function(e){return Object(g.jsx)(f,Object(b.a)(Object(b.a)({},e),{},{user:t,setUser:n}))}}),Object(g.jsx)(p.b,{path:"/",render:function(e){return Object(g.jsx)(h,Object(b.a)({},e))}})]})]})]})})};var y=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)("Not_Logged"),c=Object(u.a)(r,2),o=c[0],j=c[1],b=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem("token")),s(t),""===n){e.next=13;break}return e.prev=3,e.next=6,d.a.get("https://afternoon-coast-71095.herokuapp.com/member",{headers:{"Content-Type":"application/json",Authorization:n}});case 6:"Yeppa You did it"===e.sent.data.message?j("Logged"):j("Not_Logged"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[n,o]),Object(g.jsx)("div",{children:Object(g.jsx)(N,{user:o,setUser:j})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};c.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(y,{})}),document.getElementById("root")),k()}},[[63,1,2]]]);
//# sourceMappingURL=main.9cd68809.chunk.js.map